---
import Layout from '../layouts/Layout.astro';
import data from '../../public/data.json';
import '../../assets/scss/astro-ecommerce.scss';
import OrderSummaries from '../components/order/orderSummaries';
import ComplexNavbar from "../components/complexNavbar";

let cartItems = [];
data.shoppingCart.map(id =>
    data.products.filter(x => x.id == id).map(x => cartItems.push(x))
)

let orderProducts = [];

data.orders[0].products.forEach(productDetails => {
  data.products.forEach(product => {
    if (product.id == productDetails.id) {
      orderProducts.push(product);
    }
  });
})
---

<Layout title="Shopping Cart">
  <main>
    <ComplexNavbar />

    <div class="container mt-5">
      <OrderSummaries order={data.orders[0]} products={orderProducts} />
    </div>

  </main>

</Layout>